<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meziplanetární výlet</title>
    <link rel="icon" href="favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container pt-5" style="max-width: 600px; padding-bottom: 400px;">
        <h1 class="text-center my-3">Registrace na meziplanetární výlet</h1>


        <div id="app">
            <div class="card p-4 mb-3">
                <form>
                    <div class="mb-3">
                        <label class="form-label" for="name">Jméno astronauta</label>
                        <input type="text" id="name" class="form-control" v-model="trip.name" placeholder="Zadej své jméno">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="destination">Destinace</label>
                        <select id="destination" class="form-select" v-model="trip.destination">
                            <option disabled value="">Vyber planetu…</option>
                            <option value="Mars">Mars - pro introverty</option>
                            <option value="Venuše">Venuše - sluneční lázně 24/7</option>
                            <option value="Měsíc">Měsíc - víkendovka s dobrou Wi-Fi</option>
                            <option value="Jupiter">Jupiter - jen pro opravdu odolné</option>
                            <option value="Pluto">Pluto - technicky možná ne planeta, ale proč ne</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="days">Počet dní</label>
                        <input type="number" id="days" class="form-control" v-model.number="trip.days" placeholder="Např. 5">
                    </div>

                    <div class="mb-3 form-check">
                        <input type="checkbox" id="terms" class="form-check-input" v-model="trip.accepted">
                        <label class="form-check-label" for="terms">
                            Souhlasím s podmínkami letu a s možným vyoperováním mých jater.
                        </label>
                    </div>


                    <div class="pb-3">
                        <button class="btn btn-primary w-100" :disabled="!isValid" type="submit">Odeslat</button>
                    </div>

                    <p class="text-muted">
                        Tento formulář nikam neodesílá - vše se počítá přímo v prohlížeči.
                    </p>
                </form>
            </div>

            <div class="card p-3">
                <h2>Palubní lístek</h2>
                <p>
                    Jméno: <strong>{{ trip.name || '—' }}</strong><br>
                    Destinace: <strong>{{ trip.destination || '—' }}</strong><br>
                    Počet dní: <strong>{{ trip.days || '—' }}</strong><br>
                    Odhadovaná cena: <strong>{{ calculatePrice() }} kreditů</strong>
                </p>
                <p class="text-muted">
                    Jakmile upravíš formulář, palubní lístek se automaticky aktualizuje.
                </p>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const app = Vue.createApp({
            data() {
                return {
                    trip: {
                        name: "",
                        destination: "",
                        days: 1,
                        accepted: false
                    }
                }
            },
            computed: {
                isValid() {
                    return this.trip.accepted;
                }
            },
            methods: {
                calculatePrice() {
                    if (!this.trip.destination || !this.trip.days) return "—";
                    return this.trip.days * 800;
                }
            }
        });

        app.mount('#app');
    </script>
</body>
</html>
